<div class="container">
    <main class="innerContainer">
        <div class="movie">
            <h3 class="movieTitle">{{movieTitle}}</h3>
            <div class="movieDetails">{{screen}} - {{time}}</div>
        </div>

        <!-- Showing a static legend bar -->
        <div class="legend">
            <span class="oi oi-target freeSeat"></span> FREE
            <span class="oi oi-ban reservedSeat"></span> TAKEN
            <span class="oi oi-check selectedSeat"></span> SELECTED
        </div>

        <p class="font14 marginTop5">SCREEN THIS WAY</p>
        <div class="screen"></div>

        <!-- Generate the seating grid -->
        <div *ngFor="let row of rows">
            <span class="seat" *ngFor="let col of cols" (click)="seatClicked(row + col)"
                    [ngSwitch]="getStatus(row + col)">
                <span *ngSwitchCase="'selected'" class="oi oi-check selectedSeat"></span>
                <span *ngSwitchCase="'reserved'" class="oi oi-ban reservedSeat"></span>
                <span *ngSwitchDefault class="oi oi-target freeSeat"></span>
            </span>
        </div>

        <!-- Structural directive - only visible on selection -->
        <div *ngIf="selected.length > 0" class="font14 marginTB10">
            <div class="wordWrap">SEATS RESERVED : {{selected.length}} <span class="count">({{previous}})</span></div>
            <div>PRICE : {{ticketPrice}} * {{selected.length}} = {{currency}} {{ticketPrice*selected.length}} </div>
            <div>TOTAL : {{currency}} {{ticketPrice * selected.length + convFee}}</div>
        </div>

        <!-- Action buttons -->
        <div class="buttonBar marginTop5">
            <button (click)="clearSelected()" [disabled]="selected.length === 0" class="btn btn-default btn-sm">Clear</button>
            <button (click)="createReservation(reservation)" [disabled]="selected.length === 0" class="btn btn-success btn-sm">Buy Tickets</button>
        </div>
    </main>
</div>
